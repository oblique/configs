$mainMod = Super

# Launcher
# TODO: rofi config
bindd = $mainMod, D, Run, exec, pkill -x rofi || rofi -show-icons -show run
bindd = $mainMod, A, Run .desktop, exec, pkill -x rofi || rofi -show-icons -show drun
bindd = $mainMod, Return, Open terminal, exec, alacritty
bindd = $mainMod, E, Open file explorer, exec, dolphin
bindd = $mainMod, B, Open web browser, exec, brave
# TODO
bindd = $mainMod Shift, Return, Open dropdown terminal, exec, [float; move 20% 5%; size 60% 60%] alacritty

# Window management
bindd = $mainMod, Q, Close focused window, killactive
bindd = $mainMod Alt, Q, Kill focused window, killactive
bindd = $mainMod, Delete, Exit hyprland session, exec, uwsm stop
bindd = $mainMod Shift, Delete, Exit hyprland session (dirty), exit
bindd = $mainMod, W, Toggle floating, togglefloating
bindd = $mainMod, G, Toggle group, togglegroup
bindd = $mainMod Shift, G, Lock active group, lockactivegroup, toggle
bindd = $mainMod Shift, X, Lock screen, exec, hyprlock
bindd = $mainMod, R, Toggle split, togglesplit
bindd = $mainMod Shift, F, Toggle fullscreen, fullscreen, 0
bindd = $mainMod, F, Toggle fullscreen with bars, fullscreen, 1
bindd = $mainMod Alt, F, Toggle fake fullscreen, fullscreenstate, 0 2

# Change focus
bindd = $mainMod, Left, Focus left, movefocus, l
bindd = $mainMod, Right, Focus right , movefocus, r
bindd = $mainMod, Up, Focus up , movefocus, u
bindd = $mainMod, Down , Focus down, movefocus, d
bindd = Alt, Tab, Cycle focus, cyclenext
bindd = $mainMod Shift, J, Focus left within window group, changegroupactive, b
bindd = $mainMod Shift, L, Focus right within window group, changegroupactive, f

# Resize windows
bindde = $mainMod Alt, Right, Resize window - right , resizeactive, 30 0
bindde = $mainMod Alt, Left, Resize window - left, resizeactive, -30 0
bindde = $mainMod Alt, Up, Resize window - up, resizeactive, 0 -30
bindde = $mainMod Alt, Down, Resize window - down, resizeactive, 0 30
binddm = $mainMod, mouse:272, Hold left-click to move window, movewindow
binddm = $mainMod, mouse:273, Hold right-click to resize window, resizewindow

# Media/Audio
binddl = , XF86AudioMute, Toggle mute output, exec, pamixer -t
binddl = , XF86AudioMicMute, Toggle mute microphone, exec, pamixer --default-source -t
binddel = , XF86AudioLowerVolume, Decrease volume, exec, pamixer -d 5
binddel = , XF86AudioRaiseVolume, Increase volume, exec, pamixer -i 5
binddl = , XF86AudioPlay, Play/pause media, exec, playerctl play-pause
binddl = , XF86AudioPause, Play/pause media, exec, playerctl play-pause
binddl = , XF86AudioNext, Play next media, exec, playerctl next
binddl = , XF86AudioPrev, Play previous media, exec, playerctl previous

# Brightness
binddel = , XF86MonBrightnessUp, Increase brightness, exec, brightnessctl s 5%+
binddel = , XF86MonBrightnessDown, Decrease brightness, exec, brightnessctl s 5%-

# Notifications
bindd = $mainMod, N, Toggle notification center, exec, swaync-client -t
bindd = $mainMod, Space, Close latest notification, exec, swaync-client --close-latest

# Keyboard layout
binddl = $mainMod, K, Switch keyboard layout, exec, hyprctl switchxkblayout all next

# Screenshot
# TODO: Use `satty` instead of saving
binddl = , Print, Screenshot all monitors, exec, grimblast copysave screen $(date +/tmp/screenshot_%Y-%m-%d_%H-%M-%S.%N.png)
binddl = $mainMod, Print, Screenshot area, exec, grimblast copysave area $(date +/tmp/screenshot_%Y-%m-%d_%H-%M-%S.%N.png)

# Workspace navigation
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10
bindd = $mainMod, J, Navigate to left active workspace, workspace, m-1
bindd = $mainMod, L, Navigate to right active workspace, workspace, m+1
bindd = $mainMod, Grave, Navigate to previous workspace, workspace, previous

# Move workspace to monitor
bindd = $mainMod Control, Left, Move workspace to left monitor, movecurrentworkspacetomonitor, l
bindd = $mainMod Control, Right, Move workspace to right monitor, movecurrentworkspacetomonitor, r

# Move window to workspace
bind = $mainMod Shift, 1, movetoworkspacesilent, 1
bind = $mainMod Shift, 2, movetoworkspacesilent, 2
bind = $mainMod Shift, 3, movetoworkspacesilent, 3
bind = $mainMod Shift, 4, movetoworkspacesilent, 4
bind = $mainMod Shift, 5, movetoworkspacesilent, 5
bind = $mainMod Shift, 6, movetoworkspacesilent, 6
bind = $mainMod Shift, 7, movetoworkspacesilent, 7
bind = $mainMod Shift, 8, movetoworkspacesilent, 8
bind = $mainMod Shift, 9, movetoworkspacesilent, 9
bind = $mainMod Shift, 0, movetoworkspacesilent, 10

# Move window
bind = $mainMod Shift, Left, movewindoworgroup, l
bind = $mainMod Shift, Right, movewindoworgroup, r
bind = $mainMod Shift, Up, movewindoworgroup, u
bind = $mainMod Shift, Down, movewindoworgroup, d

# Monitor submap
binddl = $mainMod, M, Enter monitor submap, submap, monitor
submap = monitor
binddl = , L, Enable only laptop monitor, exec, laptop-monitor.sh
bindl = , L, submap, reset
bindd = , E, Enable only external monitor, exec, external-monitor.sh
bind = , E, submap, reset
bindd = , 1, Enable both monitors and put external on the left, exec, external-and-laptop-monitor.sh
bind = , 1, submap, reset
bindd = , 2, Enable both monitors and put external on the right, exec, laptop-and-external-monitor.sh
bind = , 2, submap, reset
bindd = , M, Open GUI for monitor configuration, exec, nwg-displays
bind = , M, submap, reset
bindl = , Escape, submap, reset
submap = reset

# Passthrough
bindd = $mainMod Shift, P, Passthrough, submap, passthrough
submap = passthrough
bindd = $mainMod Shift, P, submap, submap, reset
submap = reset

# TODO
#$d=[$ws|Navigation|Special workspace]
#bindd = $mainMod Shift, S, $d move to scratchpad  , movetoworkspace, special
#bindd = $mainMod Alt, S, $d move to scratchpad (silent) , movetoworkspacesilent, special
#bindd = $mainMod, S, $d toggle scratchpad ,  togglespecialworkspace

# TODO
#$d=[$wm|Move active window across workspace]
#$moveactivewindow=grep -q "true" <<< $(hyprctl activewindow -j | jq -r .floating) && hyprctl dispatch moveactive
#bindde = $mainMod Shift Control, left, Move active window to the left, exec, $moveactivewindow -30 0 || hyprctl dispatch movewindow l
#bindde = $mainMod Shift Control, right, Move active window to the right, exec, $moveactivewindow 30 0 || hyprctl dispatch movewindow r
#bindde = $mainMod Shift Control, up, Move active window up, exec, $moveactivewindow  0 -30 || hyprctl dispatch movewindow u
#bindde = $mainMod Shift Control, down, Move active window down, exec, $moveactivewindow 0 30 || hyprctl dispatch movewindow d

# vim: ft=hyprlang
